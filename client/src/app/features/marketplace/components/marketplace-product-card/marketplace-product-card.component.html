<mat-card class="product-card">
  <img mat-card-image 
       [src]="product.images && product.images[0] ? product.images[0].url : 'assets/images/placeholder.jpg'" 
       [alt]="product.name">
  <mat-card-content>
    <h3 class="text-lg font-semibold">{{product.name}}</h3>
    <p class="text-xl text-blue-600 font-bold mt-2">
      {{ product.price }} FCFA
    </p>
    <div class="flex items-center mt-2">
      <mat-chip-set>
        <mat-chip [color]="product.inventory.quantity ? 'primary' : 'warn'" selected>
          {{product.inventory.quantity || 0}} in stock
        </mat-chip>
      </mat-chip-set>
    </div>
  </mat-card-content>
  <mat-card-actions class="flex justify-between p-4">
    <button mat-button color="primary" 
            [routerLink]="['/markets', product.tenantId, 'products', product.id]">
      View Details
    </button>
    
    <button mat-raised-button 
            color="primary"
            [disabled]="isOutOfStock() || quantity < 1 || quantity > product.inventory.quantity"
            (click)="onAddToCart()">
            Add to cart
      <mat-icon>add_shopping_cart</mat-icon>
    </button>
  </mat-card-actions>
</mat-card>